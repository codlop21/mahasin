<div class="welcome-overlay" id="welcomePopup">
    <div class="welcom_div">
        <a href="javascript:;" class="ref_welcom">
            <img src="{{component.welcom_img}}" class="popup-image" alt="بنر اعلاني">
            <button class="colse_btn" type="button">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
                    <path
                        d="M17.885 16l7.057-7.057c0.521-0.521 0.521-1.364 0-1.885s-1.364-0.521-1.885 0l-7.057 7.057-7.057-7.057c-0.521-0.521-1.364-0.521-1.885 0s-0.521 1.364 0 1.885l7.057 7.057-7.057 7.057c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l7.057-7.057 7.057 7.057c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885z">
                    </path>
                </svg>
            </button>
        </a>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const popup = document.getElementById("welcomePopup");
        const closeBtn = popup.querySelector(".colse_btn");

        // يظهر مرة واحدة فقط عند فتح الموقع
        if (!sessionStorage.getItem("welcomePopupShown")) {
            popup.classList.add("active");
            sessionStorage.setItem("welcomePopupShown", "true");
        }

        // غلق عند الضغط على X
        closeBtn.addEventListener("click", function (e) {
            e.stopPropagation();
            popup.classList.remove("active");
        });

        // غلق عند الضغط على الخلفية
        popup.addEventListener("click", function () {
            popup.classList.remove("active");
        });

        // منع الغلق عند الضغط على الصورة
        popup.querySelector(".welcom_div").addEventListener("click", function (e) {
            e.stopPropagation();
        });
    });
</script>